{"ast":null,"code":"import{connect}from'react-redux';import{createDecrementAction,createIncrementAsyncAction,createIncrementAction}from'../../redux/action/count';import React,{Component}from'react';import{Select,Button,Space}from'antd';// 定义ui组件\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";class Count extends Component{constructor(){super(...arguments);this.state={options:[{value:1},{value:2},{value:3}],value:'1'};this.handleChange=value=>{console.log(\"selected \".concat(value));this.setState({value:value});};// 加法\nthis.handleIncrement=()=>{const{value}=this.state;this.props.jia(value*1);};// 减法\nthis.handleDecrement=()=>{const{value}=this.state;this.props.jian(value*1);};// 奇数再加\nthis.handleIncrementIfOdd=()=>{const{value}=this.state;if(this.props.count%2!==0){this.props.jia(value*1);}};// 异步加\nthis.handleIncrementAsync=()=>{const{value}=this.state;this.props.jianAsync(value*1,500);};}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u5F53\\u524D\\u548C\\u4E3A\\uFF1A\",this.props.count,\",\\u603B\\u4EBA\\u6570\\u4E3A\",this.props.persons]}),/*#__PURE__*/_jsx(Select,{defaultValue:this.state.value,style:{width:120},onChange:this.handleChange,options:this.state.options}),\"\\xA0\",/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:this.handleIncrement,children:\"+\"}),/*#__PURE__*/_jsx(Button,{onClick:this.handleDecrement,children:\"-\"}),/*#__PURE__*/_jsx(Button,{onClick:this.handleIncrementIfOdd,children:\"\\u548C\\u4E3A\\u5947\\u6570\\u5C31\\u52A0\"}),/*#__PURE__*/_jsx(Button,{onClick:this.handleIncrementAsync,children:\"\\u5F02\\u6B65\\u52A0\"})]})]});}}export default connect(state=>({count:state.sum,persons:state.persons.length}),// 一般写法 函数形式\n// dispatch=>(\n//     {\n//         jia: number => dispatch(createIncrementAction(number)),\n//         jian: number => dispatch(createDecrementAction(number)),\n//         jianAsync: (number, time) => dispatch(createIncrementAsyncAction(number, time))\n//     })\n// 对象形式 react-redux 自动分发action\n{jia:createIncrementAction,jian:createDecrementAction,jianAsync:createIncrementAsyncAction})(Count);","map":{"version":3,"names":["connect","createDecrementAction","createIncrementAsyncAction","createIncrementAction","React","Component","Select","Button","Space","jsxs","_jsxs","jsx","_jsx","Count","constructor","arguments","state","options","value","handleChange","console","log","concat","setState","handleIncrement","props","jia","handleDecrement","jian","handleIncrementIfOdd","count","handleIncrementAsync","jianAsync","render","children","persons","defaultValue","style","width","onChange","onClick","sum","length"],"sources":["/Users/huhongxia/Desktop/temp/react_basic/react_staging/src/containers/add/index.jsx"],"sourcesContent":["import { connect } from 'react-redux'\nimport { createDecrementAction,createIncrementAsyncAction,createIncrementAction } from '../../redux/action/count';\nimport React, { Component } from 'react'\nimport { Select, Button, Space } from 'antd'\n\n// 定义ui组件\n class Count extends Component {\n    state = {\n        options: [\n            { value: 1 },\n            { value: 2 },\n            { value: 3 }\n        ],\n        value: '1'\n    }\n\n    handleChange = (value) => {\n        console.log(`selected ${value}`);\n        this.setState({ value: value })\n    };\n    // 加法\n    handleIncrement = () => {\n        const { value } = this.state\n        this.props.jia(value * 1)\n    }\n    // 减法\n    handleDecrement = () => {\n        const { value } = this.state\n        this.props.jian(value * 1)\n    }\n    // 奇数再加\n    handleIncrementIfOdd = () => {\n        const { value } = this.state\n        if (this.props.count % 2 !== 0) {\n            this.props.jia(value * 1)\n        }\n    }\n    // 异步加\n    handleIncrementAsync = () => {\n        const { value } = this.state\n        this.props.jianAsync(value * 1, 500)\n    }\n    render() {\n        return (\n            <div>\n                <h1>当前和为：{this.props.count},总人数为{this.props.persons}</h1>\n                <Select defaultValue={this.state.value} style={{ width: 120 }} onChange={this.handleChange} options={this.state.options}>\n                </Select>&nbsp;\n                <Space >\n                    <Button onClick={this.handleIncrement}>+</Button>\n                    <Button onClick={this.handleDecrement}>-</Button>\n                    <Button onClick={this.handleIncrementIfOdd}>和为奇数就加</Button>\n                    <Button onClick={this.handleIncrementAsync}>异步加</Button>\n                </Space>\n\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({ count: state.sum,persons:state.persons.length }),\n    // 一般写法 函数形式\n    // dispatch=>(\n    //     {\n    //         jia: number => dispatch(createIncrementAction(number)),\n    //         jian: number => dispatch(createDecrementAction(number)),\n    //         jianAsync: (number, time) => dispatch(createIncrementAsyncAction(number, time))\n    //     })\n\n    // 对象形式 react-redux 自动分发action\n    {\n        jia: createIncrementAction,\n        jian: createDecrementAction,\n        jianAsync: createIncrementAsyncAction\n    }\n)(Count);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}